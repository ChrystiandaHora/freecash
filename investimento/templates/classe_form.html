{% extends 'base.html' %}

{% block title %}{% if form.instance.pk %}Editar{% else %}Nova{% endif %} Classe | FreeCash{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6">

  <!-- Header -->
  <div class="space-y-1">
    <h1 class="text-xl font-semibold text-gray-900 dark:text-white">
      <i class="fa-solid fa-tags text-emerald-500 mr-2"></i>
      {% if form.instance.pk %}Editar Classe{% else %}Nova Classe{% endif %}
    </h1>
    <p class="text-sm text-gray-500 dark:text-gray-400">
      {% if form.instance.pk %}Atualize as informações da classe{% else %}Crie uma nova classe para organizar seus ativos{% endif %}
    </p>
  </div>

  <!-- Form Card -->
  <div class="bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 rounded-2xl shadow-sm p-6">
    <form method="post" class="space-y-6">
      {% csrf_token %}

      <!-- Nome -->
      <div>
        <label for="id_nome" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nome da Classe *</label>
        <input type="text" name="nome" id="id_nome" value="{{ form.nome.value|default:'' }}"
               class="w-full rounded-xl border border-gray-200 dark:border-slate-600 px-4 py-2.5 text-sm text-gray-900 dark:text-white
                      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 dark:focus:border-emerald-400
                      placeholder:text-gray-400 dark:placeholder:text-gray-500 bg-white dark:bg-slate-900"
               placeholder="Ex: Renda Fixa, Ações" required>
        {% if form.nome.errors %}
          <p class="mt-1 text-xs text-red-600">{{ form.nome.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Ativa Checkbox -->
      <div class="flex items-center gap-3">
        <input type="checkbox" name="ativa" id="id_ativa"
               {% if form.ativa.value %}checked{% endif %}
               class="w-4 h-4 rounded border-gray-300 dark:border-slate-600 text-emerald-600 focus:ring-emerald-500 bg-white dark:bg-slate-700">
        <label for="id_ativa" class="text-sm text-gray-700 dark:text-gray-300">Classe Ativa na Carteira?</label>
      </div>

      <!-- Buttons -->
      <div class="flex items-center gap-3 pt-4 border-t border-gray-100 dark:border-slate-700">
        <button type="submit"
                class="inline-flex items-center justify-center rounded-xl px-6 py-2.5 text-sm font-semibold
                       bg-emerald-600 dark:bg-emerald-600/90 text-white hover:bg-emerald-700 dark:hover:bg-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-600/20 shadow-lg shadow-emerald-900/20">
          <i class="fa-solid fa-check mr-2"></i>
          {% if form.instance.pk %}Salvar Alterações{% else %}Criar Classe{% endif %}
        </button>
        <a href="{% url 'investimento:classe_listar' %}"
           class="inline-flex items-center justify-center rounded-xl px-6 py-2.5 text-sm font-semibold
                  bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-slate-700 dark:text-white dark:hover:bg-slate-600
                  focus:outline-none focus:ring-2 focus:ring-gray-900/10">
          Cancelar
        </a>
      </div>
    </form>
  </div>

</div>
{% endblock %}
